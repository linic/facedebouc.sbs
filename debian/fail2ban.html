<!DOCTYPE html>
<html>

<head>
  <title>fail2ban</title>
  <meta charset="UTF-8">
</head>

<body>
  <h1><code>fail2ban</code></h1>
  <p>
  È buono di copiare <code>jail.conf</code> in <code>jail.local</code> perché <code>jail.conf</code>
  può cambiare automaticamente quando <code>fail2ban</code> viene aggiornato.
  </p>
  <p>
  <code>fail2ban</code> viene con parecchi filtri in <code>/etc/fail2ban/filter.d/</code> e è 
  possibile creare una configurazione <code>apache-codes.conf</code> di più come questo :
  <xmp>
[INCLUDES]

[Definition]
failregex = ^<HOST> - .* ".*" \b(3[0-9][2-9]|[4-5][0-9][0-9])\b .*$
  </xmp>
  e dopo di andare in <code>vim /etc/fail2ban/jail.local</code> e di aggiungere :
  <xmp>
[apache-codes]
enabled = true
port = http,https
filter = apache-codes
logpath = /var/log/apache2/access.log
bantime = 10d
findtime = 10d
maxretry = 0
  </xmp>
  Dopo si usa <code>service fail2ban restart</code> per rendere effetiva la nuova configurazione. 
  e <code> service fail2ban status</code> per vedere si la configurazione è corretta.
  </p>
  <p>
  Per vedere il stato della regola : <code>fail2ban-client status apache-codes</code>
  </p>
  <p>
  Per liberare un indirizzo IP : <code>fail2ban-client set apache-codes unbanip 24.225.149.194</code>
  </p>
</body>

</html>
